<!-- Top buttons -->
<div id="top-buttons">
  <div class="left">

    <button mat-stroked-button color="primary" (click)="create()">Create Post</button>

  </div>
  <div class="right">

    Group By:
    <mat-button-toggle-group name="groupBy" aria-label="Group By" value="week" (change)="onValChange($event.value)">
      <mat-button-toggle value="week">Posting Week</mat-button-toggle>
      <mat-button-toggle value="author">Author</mat-button-toggle>
      <mat-button-toggle value="location">Location</mat-button-toggle>
    </mat-button-toggle-group>

  </div>
</div>

<!-- List of Post -->
<div id="posts">
  <div *ngFor="let key of refactoredPosts | keys">
    <h3>
      <span [matBadge]="refactoredPosts[key].length" matBadgeOverlap="false">{{ key }}</span>
    </h3>

    <div class="group">
      <mat-card *ngFor="let post of refactoredPosts[key]; trackBy: index;" class="item">
        <mat-card-header>
          <div class="buttons">
            <button mat-stroked-button color="primary" (click)="edit(post)">Edit</button>
          </div>
          <div mat-card-avatar class="header-image"></div>
          <mat-card-title>{{ post.author }}</mat-card-title>
          <mat-card-subtitle>{{ post.date | date:'dd/MM/yyyy' }} - {{ post.location }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>{{ post.text }}</p>
        </mat-card-content>
      </mat-card>
    </div>

  </div>
</div>

<router-outlet></router-outlet>
